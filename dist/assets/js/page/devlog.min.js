var s=class{constructor(){this.container=document.getElementById("devlog"),this.apiUrl="/api/devlog/list",this.lastPostId=0,this.isLoading=!1,this.init()}async init(){await this.loadDevlogs(),this.setupPagination()}async loadDevlogs(){if(!this.isLoading){this.isLoading=!0;try{let t=await(await fetch(`${this.apiUrl}?lastPostId=${this.lastPostId}`)).json();t.posts&&t.posts.length>0?(this.lastPostId=t.posts[t.posts.length-1].id,this.renderDevlogs(t.posts)):console.log("No more posts to load.")}catch(e){console.error("Error loading devlogs:",e)}finally{this.isLoading=!1}}}renderDevlogs(e){e.forEach(t=>{let o=`
			<article class="article">
				<h2 class="article-title"><a class="link-reset" href="/devlog/${t.id}">${t.title}</a></h2>
				<p class="article-meta">Written by <a href="#!">${t.author}</a> on ${new Date(t.created_at).toLocaleDateString()}.</p>
			
				${t.excerpt?`<p class="text-lead">${t.excerpt}</p>`:""}
			
				<p>${t.content}</p>
			</article>
		`;this.container.insertAdjacentHTML("beforeend",o)})}setupPagination(){let e=document.createElement("button");e.textContent="Load More Posts",e.classList.add("load-more-button button button-default button-outline width-1-6 margin-auto round"),e.addEventListener("click",()=>this.loadDevlogs()),this.container.appendChild(e)}};document.addEventListener("DOMContentLoaded",()=>{new s});
