// =============================================================================
// PANEL COMPONENT
// components/ui/_panel.scss
// -----------------------------------------------------------------------------
// Flexible container component for cards, highlighted content, or generic UI
// sections. Supports headers, bodies, scrollable content, shadows, and variants.
//
// Features:
// - Base panel structure with header and body (.panel, .panel-header, .panel-body)
// - Scrollable panels with custom scrollbar styling (.panel-scrollable)
// - Visual variants: muted, card, highlight (.panel-muted, .panel-card, .panel-highlight)
// - Responsive height adjustments for small screens
// - Entrance animation: fade-in (.panel)
// =============================================================================

@use '../../abstracts/variables' as *;
@use '../../abstracts/mixins/breakpoints' as *;

// -------------------------------------------------------------------------
// Base Panel Styles
// -------------------------------------------------------------------------
// Core panel layout, background, border radius, and box shadow.

.panel {
	display: flow-root;
	position: relative;
	background-color: var(--color-surface);
	border-radius: var(--radius-default);
	box-shadow: var(--elevation-1, none);
	overflow: hidden;
	animation: panel-fade-in 0.3s ease-in-out;

	> :last-child {
		margin-bottom: 0;
	}

	// ---------------------------------------------------------------------
	// Panel Substructure
	// ---------------------------------------------------------------------
	// Header and body sections with padding, font, and borders.

	&-header {
		padding: 0.75rem 1rem;
		font-weight: 600;
		border-bottom: 1px solid var(--color-border);
		background-color: var(--color-surface-muted);
		color: var(--color-text);
	}

	&-body {
		padding: 1rem;
		color: var(--color-text);
	}
}

// -------------------------------------------------------------------------
// Panel Variants
// -------------------------------------------------------------------------
// Provides stylistic variations for different use-cases.

.panel-muted {
	background-color: var(--color-surface-muted);
	border: 1px solid var(--color-border-muted);
}

.panel-card {
	box-shadow: var(--elevation-2, 0 2px 6px rgba(0, 0, 0, 0.08));
	border: 1px solid var(--color-border);
}

.panel-highlight {
	border-left: 4px solid var(--color-primary);
	background-color: rgba($primary-color, 0.04);
}

// -------------------------------------------------------------------------
// Scrollable Panel
// -------------------------------------------------------------------------
// Panels with constrained height and custom scrollbar for overflow content.

.panel-scrollable {
	--panel-padding: 0.75rem;
	--panel-border: var(--color-border);
	--panel-bg: var(--color-surface);
	--panel-scroll-shadow: inset 0 -10px 10px -10px rgba(0, 0, 0, 0.06);
    --panel-height: 170px;

	padding: var(--panel-padding);
	background: var(--panel-bg);
	border: 1px solid var(--panel-border);
	border-radius: var(--radius-default);
	overflow: auto;
	resize: both;
	box-shadow: var(--panel-scroll-shadow);
	scrollbar-width: thin;

	// Smooth scroll fade (macOS style)
	&::-webkit-scrollbar {
		width: 8px;
		height: 8px;
		background: transparent;
	}

	&::-webkit-scrollbar-thumb {
		background: rgba(0, 0, 0, 0.2);
		border-radius: 4px;
		transition: background 0.3s;
	}

	&:hover::-webkit-scrollbar-thumb {
		background: rgba(0, 0, 0, 0.35);
	}
}

// -------------------------------------------------------------------------
// Responsive Adjustments
// -------------------------------------------------------------------------
// Adjust scrollable panel height for small screens.

@include max-sm {
	.panel-scrollable {
		height: auto;
		max-height: 200px;
	}
}

// -------------------------------------------------------------------------
// Animations
// -------------------------------------------------------------------------
// Fade-in entrance animation for panels.

@keyframes panel-fade-in {
	from {
		opacity: 0;
		transform: translateY(4px);
	}
	to {
		opacity: 1;
		transform: none;
	}
}

/*
Note: To apply scroll fade to panel-body overflowed content, add a .scrollable
variant inside .panel-body and reuse the scrollbar rules.
*/