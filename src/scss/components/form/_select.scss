// ============================================
// SELECT COMPONENT
// components/form/_select.scss
// --------------------------------------------
// Custom select dropdown styling.
// - Fully tokenized via CSS variables
// - Supports single-line, multi-line, and optgroup styling
// - Includes focus and disabled states
// - Adds a default dropdown arrow icon
// ============================================

@use '../../abstracts/variables/spacing' as *;

.select {

	// Base reset
	box-sizing: border-box;
	width: 100%;
	max-width: 100%;
	font: inherit;
	font-size: 16px;
	text-transform: none;
	margin: 0;
	//padding: var(--spacing-sm, $spacing-sm) var(--spacing-sm, $spacing-sm) calc(var(--spacing-sm, $spacing-sm) - 1px);
	padding: var(--spacing-sm) var(--spacing-md);

	color: var(--color-text);
	background-color: var(--color-surface);
	border: 1px solid var(--color-border);
	border-radius: var(--radius-default);

	// Smooth transitions for state changes
	transition: border-color 0.2s ease-in-out, 
				background-color 0.2s ease-in-out, 
				color 0.2s ease-in-out;

	// Appearance reset for cross-browser consistency
	-webkit-appearance: none;
	-moz-appearance: none;

	// Adds the dropdown arrow icon if not overridden
	background-repeat: no-repeat;
	background-position: right 0.5em center;
	background-size: 1em;
	background-image: svg-load('icon-chevron-down.svg', fill=var(--color-text-muted)); // Requires svg-load or similar loader setup

    // ----------------------------------------
    // States
    // ----------------------------------------

	// Focused select
	&:focus {
		outline: none;
		border-color: var(--color-primary);
		background-color: var(--color-surface);
		color: var(--color-text);
	}

	 // Disabled select
	&:disabled {
		color: var(--color-text-disabled);
		background-color: var(--color-surface-muted);
		border-color: var(--color-border-muted);
		cursor: not-allowed;
	}

    // ----------------------------------------
    // Optgroup styling
    // ----------------------------------------

	optgroup {
		font: inherit;
		font-weight: 600;
		color: var(--color-text);
	}

    // ----------------------------------------
    // Single-line select
    // ----------------------------------------

	&:not([multiple]):not([size]) {
		height: 40px;
		line-height: 1.5;
		padding-right: 2em;
	}

	// ----------------------------------------
    // Multi-line or size-based select
    // ----------------------------------------

	&[multiple],
	&[size] {
		padding-top: var(--spacing-sm, $spacing-sm);
		padding-bottom: var(--spacing-sm, $spacing-sm);
		vertical-align: top;
		resize: vertical;
	}

    // ----------------------------------------
    // Fallback option styling
    // ----------------------------------------
	&:not([multiple]):not([size]) option {
		color: var(--color-text-muted);
	}
}
